{"version":3,"sources":["scripts/app.js"],"names":["angular","module","LoginService","$rootScope","$http","$log","$location","urlSrv","toastr","login","credentials","post","headers","content-type","success","authenticate","authenticated","debug","path","info","error","data","$inject","factory","LoginController","$scope","vm","this","username","password","form","$valid","$setDirty","controller","MainService","transferir","transferencia","MainController","cliente","cuenta","saldo","valorTrasnferir","cuentaTransferir","runBlock","run","routerConfig","$stateProvider","$urlRouterProvider","state","url","templateUrl","controllerAs","otherwise","config","constant","malarkey","moment","$logProvider","toastrConfig","$httpProvider","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","defaults","withCredentials","useXDomain","common","$templateCache","put"],"mappings":"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","file":"scripts/app-67ba473b41.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('web', ['ngAnimate', 'ngCookies', 'ngTouch', 'ngSanitize', 'ngMessages', 'ngAria', 'ngResource', 'ui.router', 'ui.bootstrap', 'toastr']);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('web')\n    .factory('LoginService', LoginService);\n\n  function LoginService($rootScope, $http, $log, $location, urlSrv, toastr) {\n\n    function login(credentials) {\n\n      $http.post(urlSrv + 'login', credentials, {\n        headers: {\n          \"content-type\": \"application/json\"\n        }\n      }).success(function() {\n        $rootScope.authenticate(function() {\n          if ($rootScope.authenticated) {\n            $log.debug(\"Login succeeded\");\n            $location.path(\"/\");\n            toastr.info(\"Bienvenido\");\n            $rootScope.authenticated = true;\n          } else {\n            $log.debug(\"Login failed\");\n            $location.path(\"/login\");\n            toastr.error(\"Usuario y/o password erroneos\");\n            $rootScope.authenticated = false;\n          }\n        });\n      }).error(function(data) {\n        $location.path(\"/login\");\n        toastr.error(\"Error\");\n        $rootScope.authenticated = false;\n      });\n\n      return $rootScope.authenticated;\n    }\n\n    return {\n      login: login\n    };\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('web')\n    .controller('LoginController', LoginController);\n\n  /** @ngInject */\n  function LoginController($scope, toastr, LoginService) {\n    var vm = this;\n\n    vm.credentials = {\n      username: \"john.lopez\",\n      password: \"1128434940\"\n    };\n    vm.error = false;\n    vm.login = function(form) {\n      if (form.$valid)\n        LoginService.login(vm.credentials);\n      else {\n        form.$setDirty(true);\n        toastr.info(\"Usuario y/o password erroneos\");\n      }\n    };\n\n\n\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('web')\n    .factory('MainService', MainService);\n\n  function MainService($http, urlSrv, toastr) {\n\n    function transferir(transferencia) {\n      $http.post(urlSrv + 'transferir', transferencia, {\n          headers: {\n            \"content-type\": \"application/json\"\n          }\n        }).success(function(data) {\n          toastr.info(\"Transferencia exitosa\");\n        })\n        .error(function() {\n\n        });\n    }\n\n    return {\n      transferir: transferir\n    };\n\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('web')\n    .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController(toastr) {\n    var vm = this;\n\n    vm.cliente = {\n      cuenta: '###########',\n      saldo: 0.00000,\n      valorTrasnferir: 0,\n      cuentaTransferir: ''\n    };\n\n    vm.transferir = function(form) {\n      \n    };\n\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('web')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log) {\n\n    $log.debug('runBlock end');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('web')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n    $stateProvider\n      .state('login', {\n        url: '/login',\n        templateUrl: 'app/components/login/login.html',\n        controller: 'LoginController',\n        controllerAs: 'lCtrl'\n      }).state('home', {\n        url: '/',\n        templateUrl: 'app/main/main.html',\n        controller: 'MainController',\n        controllerAs: 'main'\n      });\n\n    $urlRouterProvider.otherwise('/');\n  }\n\n})();\n\n/* global malarkey:false, moment:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('web')\n    .constant('malarkey', malarkey)\n    .constant('moment', moment)\n    .constant('urlSrv', 'http://localhost:8080/web-sipre/rest/');\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('web')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, toastrConfig, $httpProvider) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    // Set options third-party lib\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-right';\n    toastrConfig.preventDuplicates = true;\n    toastrConfig.progressBar = true;\n\n    $httpProvider.defaults.withCredentials = true;\n    $httpProvider.defaults.useXDomain = true;\n    $httpProvider.defaults.headers.common[\"Access-Control-Allow-Origin\"] = \"*\";\n  }\n\n})();\n\nangular.module(\"web\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/main.html\",\"<!DOCTYPE html><div class=\\\"ng-scope container\\\"><div class=row><div class=\\\"col-sm-6 col-md-4 col-md-offset-4\\\"><div class=text-center><h3>Transferencias</h3><form name=transferirForm ng-submit=main.transferir(transferirForm)><div class=form-group><label for=lblNumCuenta>Cuenta #</label><label id=lblNumCuenta>{{main.cliente.cuenta}}</label></div><div class=form-group><label for=lblSaldoCuenta>Saldo $</label><label id=lblSaldoCuenta>{{main.cliente.saldo}}</label></div><div class=form-group><label for=inpValorTransferir>Valor a transferir $</label><input id=inpValorTransferir ng-model=main.cliente.valorTrasnferir></div><div class=form-group><label for=inpCntTransferir>Cuenta transferir #</label><input id=inpCntTransferir ng-model=main.cliente.cuentaTransferir></div><button class=\\\"btn btn-lg btn-primary btn-block\\\" type=submit>Transferir</button></form></div></div></div></div>\");\n$templateCache.put(\"app/components/login/login.html\",\"<!DOCTYPE html><div class=\\\"ng-scope container\\\"><div class=row><div class=\\\"col-sm-6 col-md-4 col-md-offset-4\\\"><h1 class=\\\"text-center login-title\\\">Inicio de sessi√≥n</h1><div class=account-wall><img class=profile-img ng-src=assets/images/login.png alt=\\\"\\\"><div class=\\\"alert alert-danger\\\" ng-show=lCtrl.error>Usuario y/o password erroneos</div><form name=loginForm class=form-signin ng-submit=lCtrl.login(loginForm) novalidate><div id=user-input><input required name=user id=user ng-model=lCtrl.credentials.username type=text class=form-control placeholder=Usuario autofocus><div ng-messages=loginForm.user.$error ng-show=loginForm.$dirty><div ng-message=required>Campo usuario requerido</div></div></div><div id=pass-input><input required id=pass name=pass ng-model=lCtrl.credentials.password type=password class=form-control placeholder=Password><div ng-messages=loginForm.pass.$error ng-show=loginForm.$dirty><div ng-message=required>Campo password requerido</div></div></div><button class=\\\"btn btn-lg btn-primary btn-block\\\" type=submit>Acceder</button> <span class=clearfix></span></form></div></div></div></div>\");}]);"],"sourceRoot":"/source/"}